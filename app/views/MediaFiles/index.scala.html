@import helpers.MediaFileHelper

@(mediaFiles: java.util.List[models.MediaFile], mediaFilesCount: Integer, mediaType: String, prev: Integer, next: Integer)

@main("Welcome to media DB") {
    <div class="row center">
		<h1><small>@mediaFilesCount</small> Media Files</h1>
	</div>
@if(MediaFile.getSize() > 0) {
		<div class="row">
			<div class="col-md-12 center">
				<h2>last Imports</h2>
			</div>
			<ul class="pager">
			    <li class="previous">
			        @if(prev != null) {
			        <a href="@routes.MediaFiles.index(mediaType)?page=@prev">&larr; Prev</a>
			        }
			    </li>
			    <li class="next">
			        @if(next != null) {
			        <a href="@routes.MediaFiles.index(mediaType)?page=@next">Next &rarr;</a>
			        }
			    </li>
			</ul>			
			@for(mediaFile <- mediaFiles) {
			<div class="col-md-2 thumbnail">
				<div class="pull-right top">
				@helper.form(action = routes.MediaFiles.delete(mediaFile.checksum)) {
    	    		<button onClick="if (!confirm('Are you sure you want to delete this?\n')) return false;" type="submit" class="btn btn-danger btn-xs" aria-label="Delete"><span aria-hidden="true">&times;</span></button>
    	    	}
    	    	</div>
				<a title="@mediaFile.filename" href="@routes.MediaFiles.show(mediaFile.checksum)">
				@if(mediaFile.getThumbnail() != null) {
					<img src="@routes.MediaFiles.cover(mediaFile.checksum, 0)"/>
				} else {
					N/A
				}
				</a>
				<div>@if(mediaFile.filesize != null){@MediaFileHelper.humanReadableByteCount(mediaFile.filesize, true) | }@MediaFileHelper.shortName(mediaFile.filename, 30)</div>
			</div>
			}
		</div>
	}	
}
