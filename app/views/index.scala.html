@import services.JobService
@import helpers.MediaFileHelper
@import views.addons._
@import models.Thumbnail
@import models.MediaFile

@(mediaFileCount: Integer, thumbnailsCount:Integer, tagCount: Integer, propertyCount: Integer)

@main("Welcome to media DB") {
    <div class="row center">
    	<h2>Welcome to media DB</h2>
    </div>
    <div class="row"> 
		<div class="col-md-3 center">
			<h2>
				<small>Media Files</small><br />
				@mediaFileCount
			</h2>
		</div>
		<div class="col-md-3 center">
			<h2>
				<small>Thumbnails</small><br />
				@thumbnailsCount		
			</h2>
		</div>
		<div class="col-md-3 center">
			<h2>
				<small>Tags</small><br />
				@tagCount		
			</h2>
		</div>
		<div class="col-md-3 center">
			<h2>
				<small>Properties</small><br />
				@propertyCount
			</h2>
		</div>			
	</div>	
	
	@if(MediaFile.getSize() > 0) {
		<div class="row">
			<div class="col-md-12 center">
				<h2>last Imports</h2>
			</div>
			@for(mediaFile <- MediaFile.getLast(128)) {
			<div class="col-md-2 thumbnail">
				<a title="@mediaFile.filename" href="@routes.MediaFiles.show(mediaFile.checksum)">
				@if(mediaFile.getThumbnail() != null) {
					<imgstyle="max-height: 120px; max-width: 300px" src="@routes.MediaFiles.thumbnail(mediaFile.checksum, 0)"/>
				} else {
					N/A
				}
				</a>
				<div>@if(mediaFile.filesize != null){@MediaFileHelper.humanReadableByteCount(mediaFile.filesize, true) | }@MediaFileHelper.shortName(mediaFile.filename, 12)</div>
			</div>
			}
		</div>
	}	
}
